/* Font imports */
@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

/* Imports */
@import 'tailwindcss';
@import '@kokimoki/shared/styles.css';

@plugin '@tailwindcss/typography';

@theme {
	/* Typography */
	--km-font-sans:
		'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
	--font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
	--font-mono:
		ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
		'Courier New', monospace;

	/* Modern shadows */
	--shadow-card:
		0 4px 6px -1px rgb(0 0 0 / 0.06), 0 2px 4px -2px rgb(0 0 0 / 0.04),
		0 0 0 1px rgb(0 0 0 / 0.02);
	--shadow-card-hover:
		0 20px 25px -5px rgb(0 0 0 / 0.08), 0 8px 10px -6px rgb(0 0 0 / 0.06);
	--shadow-glow: 0 0 20px rgb(59 130 246 / 0.15);
}

/* Markdown styling with Tailwind Typography (prose) */
.prose {
	--tw-prose-headings: var(--color-slate-900);
	--tw-prose-body: var(--color-slate-900);
	--tw-prose-bold: var(--color-slate-900);
	--tw-prose-links: var(--color-blue-500);
	--tw-prose-bullets: var(--color-slate-500);
	--tw-prose-counters: var(--color-slate-500);
	--tw-prose-quotes: var(--color-slate-900);
	--tw-prose-pre-bg: var(--color-slate-900);
	--tw-prose-pre-code: var(--color-slate-100);
	--tw-prose-hr: var(--color-slate-300);
}

html,
body {
	@apply overscroll-none text-slate-900 antialiased;
}

/* Animated gradient background for player views */
@keyframes gradient-shift {
	0%,
	100% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
}

.km-animated-bg {
	background: linear-gradient(
		135deg,
		#f8fafc 0%,
		#eff6ff 25%,
		#f0f9ff 50%,
		#f5f3ff 75%,
		#faf5ff 100%
	);
	background-size: 400% 400%;
	animation: gradient-shift 15s ease infinite;
}

/* Dark animated background for presenter */
.km-animated-bg-dark {
	background: linear-gradient(
		135deg,
		#0f172a 0%,
		#1e1b4b 25%,
		#0f172a 50%,
		#172554 75%,
		#0f172a 100%
	);
	background-size: 400% 400%;
	animation: gradient-shift 20s ease infinite;
}

/* Modern input styling */
.km-input {
	@apply w-full max-w-96 rounded-2xl border border-slate-200 bg-white px-5 py-3.5 shadow-sm transition-all duration-200 placeholder:text-slate-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-100 focus:outline-none disabled:opacity-50;
}

/* Modern button base */
.km-btn-primary,
.km-btn-secondary,
.km-btn-error,
.km-btn-neutral {
	@apply inline-flex items-center justify-center gap-2.5 rounded-2xl px-6 py-3.5 font-semibold shadow-sm transition-all duration-200 not-disabled:cursor-pointer not-disabled:active:scale-[0.98] disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400 disabled:shadow-none;
}

.km-btn-primary {
	@apply not-disabled:bg-gradient-to-b not-disabled:from-blue-500 not-disabled:to-blue-600 not-disabled:text-white not-disabled:shadow-blue-500/25 not-disabled:hover:from-blue-600 not-disabled:hover:to-blue-700 not-disabled:hover:shadow-md not-disabled:hover:shadow-blue-500/30;
}

.km-btn-secondary {
	@apply not-disabled:border not-disabled:border-slate-200 not-disabled:bg-white not-disabled:text-slate-700 not-disabled:hover:border-slate-300 not-disabled:hover:bg-slate-50 not-disabled:hover:shadow-md;
}

.km-btn-error {
	@apply not-disabled:bg-gradient-to-b not-disabled:from-red-500 not-disabled:to-red-600 not-disabled:text-white not-disabled:shadow-red-500/25 not-disabled:hover:from-red-600 not-disabled:hover:to-red-700 not-disabled:hover:shadow-md not-disabled:hover:shadow-red-500/30;
}

.km-btn-neutral {
	@apply not-disabled:bg-gradient-to-b not-disabled:from-slate-600 not-disabled:to-slate-700 not-disabled:text-white not-disabled:shadow-slate-500/25 not-disabled:hover:from-slate-700 not-disabled:hover:to-slate-800 not-disabled:hover:shadow-md;
}

/* Modern card styling */
.km-card {
	@apply shadow-card hover:shadow-card-hover rounded-2xl border border-slate-100/80 bg-white/90 p-5 backdrop-blur-sm transition-all duration-300;
}

/* Glass morphism effect */
.km-glass {
	@apply rounded-2xl border border-white/20 bg-white/80 backdrop-blur-md;
}

.km-glass-dark {
	@apply rounded-2xl border border-white/10 bg-slate-900/80 backdrop-blur-md;
}

/* Loading spinner */
.km-spinner {
	@apply inline-block size-5 animate-spin rounded-full border-2 border-current border-t-transparent;
}

/* Entrance animation */
@keyframes fade-in-up {
	0% {
		opacity: 0;
		transform: translateY(16px);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

.km-fade-in-up {
	animation: fade-in-up 0.5s ease-out forwards;
}

.km-fade-in-up-delay-1 {
	animation: fade-in-up 0.5s ease-out 0.1s forwards;
	opacity: 0;
}

.km-fade-in-up-delay-2 {
	animation: fade-in-up 0.5s ease-out 0.2s forwards;
	opacity: 0;
}

.km-fade-in-up-delay-3 {
	animation: fade-in-up 0.5s ease-out 0.3s forwards;
	opacity: 0;
}

/* Shimmer effect for winner/highlight cards */
@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

.km-shimmer {
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(255, 255, 255, 0.15) 50%,
		transparent 100%
	);
	background-size: 200% 100%;
	animation: shimmer 2.5s ease-in-out infinite;
}

/* Float animation for decorative elements */
@keyframes float {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-8px);
	}
}

.km-float {
	animation: float 3s ease-in-out infinite;
}

/* Scale-in animation */
@keyframes scale-in {
	0% {
		transform: scale(0.8);
		opacity: 0;
	}
	100% {
		transform: scale(1);
		opacity: 1;
	}
}

.km-scale-in {
	animation: scale-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Soft pulse for waiting states */
@keyframes soft-pulse {
	0%,
	100% {
		opacity: 0.6;
	}
	50% {
		opacity: 1;
	}
}

.km-soft-pulse {
	animation: soft-pulse 2s ease-in-out infinite;
}

/* Success animation */
@keyframes success-pop {
	0% {
		transform: scale(0.9);
		opacity: 0;
	}
	70% {
		transform: scale(1.02);
	}
	100% {
		transform: scale(1);
		opacity: 1;
	}
}

.km-success-pop {
	animation: success-pop 0.25s ease-out forwards;
}

/* Timer pulse for urgency */
@keyframes timer-urgent {
	0%,
	100% {
		color: #dc2626;
		transform: scale(1);
	}
	50% {
		color: #ef4444;
		transform: scale(1.05);
	}
}

.km-timer-urgent {
	animation: timer-urgent 1s ease-in-out infinite;
}

/* Number counter pop */
@keyframes number-pop {
	0% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.2);
	}
	100% {
		transform: scale(1);
	}
}

.km-number-pop {
	animation: number-pop 0.3s ease-out;
}
